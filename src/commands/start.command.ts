import { Command } from './command.class';
import { Markup, Telegraf } from 'telegraf';
import { IBotContext } from '../context/context.interface';
import { DEFAULT_COMPLETED_TIMERS } from '../constants';

export class StartCommand extends Command {
  constructor(protected bot: Telegraf<IBotContext>) {
    super(bot);
  }

  handle() {
    this.bot.start((ctx) => {
      ctx.session.isStarted = true;
      ctx.session.completedTimersCounter = DEFAULT_COMPLETED_TIMERS;

      ctx.reply(
        `
        ü§ñ 
        \n–ü—Ä–∏–≤–µ—Ç! –Ø –±–æ—Ç –ø–æ–º–∏–¥–æ—Ä–∫–∞, –≤–∞—à –ø–æ–º–æ—â–Ω–∏–∫ –≤ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–±–æ—Ç–µ! 
        \n –ù–∞—á–Ω–µ–º‚ùî
         \n 1Ô∏è‚É£ –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ—Å—å —Å –∑–∞–¥–∞—á–µ–π –∫–æ—Ç–æ—Ä—É—é –±—É–¥–µ—Ç–µ —Ä–µ—à–∞—Ç—å
         \n 2Ô∏è‚É£ –ù–∞–∂–º–∏—Ç–µ "–ù–∞—á–∞—Ç—å –ø–æ–º–∏–¥–æ—Ä–∫—É" –∫–æ–≥–¥–∞ –±—É–¥–µ—Ç–µ –≥–æ—Ç–æ–≤—ã, —ç—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç —Ç–∞–π–º–µ—Ä –Ω–∞ 25 –º–∏–Ω—É—Ç
         \n 3Ô∏è‚É£ –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ –≤—Å–µ —Å–≤–æ–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ —Ä–µ—à–µ–Ω–∏–µ –≤–∞—à–µ–π –∑–∞–¥–∞—á–∏
         \n 4Ô∏è‚É£ –ü–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—é —Ç–∞–π–º–µ—Ä–∞ —Å–¥–µ–ª–∞–π—Ç–µ –ø–µ—Ä–µ—Ä—ã–≤ 5 - 10 –º–∏–Ω—É—Ç
         \n 5Ô∏è‚É£ –ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ –ø–æ–º–∏–¥–æ—Ä–∫–∏, –¥–æ —Ç–µ—Ö –ø–æ—Ä –ø–æ–∫–∞ –Ω–µ —Ä–µ—à–∏—Ç–µ –∑–∞–¥–∞—á—É
         \n 6Ô∏è‚É£ –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–π —á–µ—Ç–≤–µ—Ä—Ç–æ–π –ø–æ–º–∏–¥–æ—Ä–∫–∏ –¥–µ–ª–∞–π—Ç–µ –¥–ª–∏–Ω–Ω—ã–π –ø–µ—Ä–µ—Ä—ã–≤ –≤ 15 - 30 –º–∏–Ω—É—Ç
         
         \n üîµ –ï—Å–ª–∏ –∑–∞–¥–∞—á–∞ –∑–∞–Ω–∏–º–∞–µ—Ç –±–æ–ª–µ–µ 8 –ø–æ–º–∏–¥–æ—Ä–æ–∫, –ø–æ—Å—Ç–∞—Ä–∞–π—Ç–µ—Å—å —Ä–∞–∑–±–∏—Ç—å –µ–µ –Ω–∞ –º–µ–ª–∫–∏–µ –ø–æ–¥–∑–∞–¥–∞—á–∏.
         \n üîµ –ù–µ –ø—Ä–µ—Ä—ã–≤–∞–π—Ç–µ –ø–æ–º–∏–¥–æ—Ä–∫—É.
         \n üîµ –ï—Å–ª–∏ –∑–∞–¥–∞—á–∞ –∑–∞–Ω–∏–º–∞–µ—Ç –º–µ–Ω—å—à–µ –æ–¥–Ω–æ–π –ø–æ–º–∏–¥–æ—Ä–∫–∏, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–µ–ª–∫–∏—Ö –∑–∞–¥–∞—á.
        `,
        Markup.inlineKeyboard([
          Markup.button.callback('–ù–∞—á–∞—Ç—å –ø–æ–º–∏–¥–æ—Ä–∫—É üçÖ', 'start_timer'),
        ])
      );
    });
  }
}
